// src/components/Results.js
import React from 'react';
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts';

// 그리스 로마 신화 캐릭터 데이터
const mythCharacters = {
  "HHLHL": {
    
  name: "아프로디테",
  emoji: "💝",
  characteristics: "사교적이고 친근한 매력이 있으며, 자유로운 영혼을 지닌 유형입니다. 감정이 풍부하고 타인의 감정에도 민감하며, 현실적인 대인관계를 중시합니다. 유연한 사고방식으로 상황에 잘 적응하지만, 때로는 감정적 기복을 겪을 수 있습니다.",
  
  strengths: [
    "뛰어난 사교성과 대인관계 능력",
    "상황 적응력이 뛰어남",
    "풍부한 감성과 공감능력",
    "타인을 편안하게 만드는 능력"
  ],
  
  weaknesses: [
    "감정에 쉽게 휘둘림",
    "일관성 부족",
    "갈등 상황 회피",
    "즉흥적 의사결정"
  ],
  
  tips: `업무나 학업에서 성과를 내기 위해서는 체계적인 시간 관리가 필요합니다. 매일 아침 10분씩 오늘 할 일을 정리하는 습관을 들여보세요. 

감정적 기복을 조절하기 위해 규칙적인 운동이나 명상을 일과에 포함하면 좋습니다. 특히 요가나 필라테스 같은 신체와 마음을 함께 단련하는 운동을 추천합니다.

사교적인 성향을 직무에서 적극 활용하세요. 영업, 마케팅, 교육, 상담 등의 분야에서 뛰어난 성과를 낼 수 있습니다. 다만, 업무 관계와 사적인 관계의 경계를 명확히 구분하는 것이 중요합니다.

자유로운 성향을 억누르지 말고 창의적인 방식으로 표현하세요. 일과 중간중간 짧은 휴식을 취하며 재충전하는 것이 생산성 향상에 도움이 됩니다.

중요한 의사결정 시에는 '24시간 규칙'을 적용해보세요. 결정을 내리기 전에 하루 정도 시간을 두고 생각해보는 것입니다. 감정적인 판단을 줄이고 더 현실적인 선택을 할 수 있습니다.

매일 저녁 감사일기를 쓰며 하루를 돌아보는 시간을 가져보세요. 이는 감정 조절과 자기성찰에 큰 도움이 됩니다.`
},
"LLHLH": {
    
    name: "아르테미스",
  emoji: "🏹",
  characteristics: "독립적이고 차분한 성격으로, 체계적인 접근을 선호합니다. 감정적으로 안정되어 있으며, 창의적인 문제 해결 능력이 돋보입니다. 혼자만의 시간을 중시하고, 자신만의 방식으로 목표를 달성하는 것을 좋아합니다.",
  
  strengths: [
    "뛰어난 집중력과 통찰력",
    "독창적인 문제 해결 능력",
    "감정적 안정성",
    "체계적인 목표 달성력"
  ],
  
  weaknesses: [
    "때로는 지나친 고독 선호",
    "타인과의 협업 어려움",
    "완벽주의적 성향",
    "변화에 대한 저항"
  ],
  
  tips: `독립적인 성향을 살려 프리랜서나 전문직 분야에서 활동하는 것을 고려해보세요. 자신만의 페이스로 일할 때 가장 큰 성과를 낼 수 있습니다.

하루 중 가장 생산적인 시간대를 파악하고, 그 시간에 중요한 업무나 창의적인 작업을 배치하세요. 보통 아침 시간이 적합할 수 있지만, 자신만의 골든타임을 찾는 것이 중요합니다.

주 1-2회는 의도적으로 타인과 교류하는 시간을 가져보세요. 온라인 커뮤니티나 관심 분야의 스터디 그룹 참여가 좋은 시작점이 될 수 있습니다.

체계적인 성향을 살려 장기 프로젝트를 진행해보세요. 1년, 5년, 10년 단위의 목표를 세우고 이를 달성하기 위한 세부 계획을 수립하면 좋습니다.

창의성을 발휘할 수 있는 취미를 가져보세요. 글쓰기, 그림 그리기, 음악 작곡 등 혼자서도 즐길 수 있는 창작 활동이 적합합니다.

매일 30분씩 자연 속에서 걷는 시간을 가져보세요. 이는 창의성 향상과 정신적 안정에 도움이 됩니다.

완벽주의적 성향을 조절하기 위해 '80/20 법칙'을 적용해보세요. 모든 일에 100%를 추구하기보다, 핵심적인 80%에 집중하는 것입니다.

정기적으로 새로운 도전을 시도해보세요. 익숙한 것에서 벗어나 작은 변화부터 시작하면, 점차 적응력이 향상될 것입니다.

디지털 디톡스 시간을 가져보세요. 주말 하루는 전자기기를 멀리하고 독서나 명상, 산책 등 아날로그적 활동에 집중하는 것이 좋습니다.`

  },
 "HLHLL": {
    name: "아킬레우스",
    emoji: "⚔️",
    characteristics: "활동적이고 독립적인 성향으로, 체계적인 목표 달성을 중시합니다. 감정적으로 안정되어 있으며 현실적인 판단력이 뛰어납니다. 명확한 목표를 향해 전진하는 것을 좋아하며, 실행력이 강점인 유형입니다.",
    
    strengths: [
      "강력한 실행력과 추진력",
      "명확한 목표 의식",
      "뛰어난 위기 대처 능력",
      "현실적인 문제 해결 능력"
    ],
    
    weaknesses: [
      "지나친 자신감",
      "타협점 찾기 어려움",
      "때로는 경직된 사고방식",
      "피드백 수용에 어려움"
    ],
    
    tips: `매일 아침 '오늘의 승리'를 정하고 시작하세요. 그날의 가장 중요한 목표를 달성하는 것에 집중하면 성취감이 높아집니다.
  
  운동이나 스포츠 활동을 정기적으로 하세요. 신체 활동은 당신의 활발한 에너지를 긍정적으로 발산하는 좋은 방법입니다.
  
  프로젝트 관리 도구를 활용해 목표를 단계별로 나누어 관리하세요. Trello나 Asana 같은 도구가 도움이 될 수 있습니다.
  
  주간 리뷰 시간을 가지세요. 성과를 점검하고 다음 주 전략을 수립하는 것이 중요합니다.
  
  동료나 멘토로부터 정기적으로 피드백을 받는 시간을 만드세요. 다른 관점을 이해하고 수용하는 능력을 키우는 것이 성장에 필수적입니다.
  
  '약점 노트'를 작성해보세요. 자신의 실수나 실패를 기록하고 분석하는 것이 더 나은 전략을 수립하는데 도움이 됩니다.
  
  하루 중 30분은 명상이나 마인드풀니스를 실천하세요. 이는 판단력을 높이고 감정을 안정시키는데 효과적입니다.
  
  월 단위로 자신만의 도전 과제를 설정하세요. 새로운 기술을 배우거나 취미를 시작하는 것도 좋은 방법입니다.`
  },
  "HHHHH": {name: "아폴로",
    emoji: "🎭",
    characteristics: "다재다능하고 활발한 성격으로, 예술적 감각과 리더십을 동시에 갖춘 유형입니다. 타인과의 관계를 중시하며, 체계적이고 창의적인 방식으로 일을 처리합니다. 감정이 풍부하고 예술적 영감을 잘 받는 것이 특징입니다.",
    
    strengths: [
      "뛰어난 창의성과 예술성",
      "탁월한 의사소통 능력",
      "다양한 분야에 대한 재능",
      "영감을 주는 리더십"
    ],
    
    weaknesses: [
      "완벽주의적 성향",
      "감정 기복",
      "에너지 분산",
      "우선순위 설정의 어려움"
    ],
    
    tips: `다양한 활동을 시간별로 구조화하세요. 예술 활동, 업무, 사회적 활동 등을 균형있게 배분하는 것이 중요합니다.
  
  매일 아침 창의적 활동으로 하루를 시작하세요. 글쓰기, 스케치, 음악 감상 등 자신만의 예술적 루틴을 만들어보세요.
  
  업무 시 포모도로 기법을 활용하세요. 25분 집중, 5분 휴식의 리듬이 당신의 다재다능한 성향을 효과적으로 관리하는데 도움이 됩니다.
  
  주간 계획을 세울 때 반드시 '영감 시간'을 포함하세요. 새로운 아이디어를 탐색하고 발전시키는 전용 시간이 필요합니다.
  
  감정 일기를 작성하세요. 풍부한 감정을 창의적 에너지로 전환하는데 도움이 됩니다.
  
  정기적으로 예술 관련 워크샵이나 강연에 참여하세요. 다른 창의적인 사람들과의 교류는 당신에게 큰 영감이 될 것입니다.
  
  스트레스 관리를 위해 요가나 명상을 실천하세요. 이는 감정적 균형을 잡는데 매우 효과적입니다.
  
  매월 한 가지 새로운 기술이나 지식을 습득하는 목표를 세우세요. 당신의 다재다능한 성향을 계속해서 발전시키는 것이 중요합니다.`
  },
  "HHLLH": {name: "헤르메스",
    emoji: "⚡",
    characteristics: "활발하고 친근한 성격으로, 자유로운 영혼을 가진 유형입니다. 감정적으로 안정되어 있으며, 창의적인 문제 해결 능력이 뛰어납니다. 변화를 즐기고 새로운 아이디어를 실험하는 것을 좋아합니다.",
    
    strengths: [
      "뛰어난 적응력과 유연성",
      "창의적인 문제 해결 능력",
      "탁월한 의사소통 능력",
      "빠른 학습력"
    ],
    
    weaknesses: [
      "집중력 부족",
      "일관성 유지의 어려움",
      "깊이 있는 탐구 부족",
      "약속 준수의 어려움"
    ],
    
    tips: `자유로운 업무 환경을 최대한 활용하세요. 재택근무나 유연근무제가 가능하다면 적극적으로 활용하는 것이 좋습니다.
  
  하루 중 가장 창의적인 시간대를 파악하고, 그 시간에 중요한 문제 해결이나 기획을 하세요.
  
  여러 프로젝트를 동시에 진행할 때는 '타임블로킹'을 활용하세요. 각 프로젝트별로 시간을 명확히 구분하여 집중도를 높일 수 있습니다.
  
  새로운 아이디어가 떠오를 때마다 즉시 기록하는 습관을 들이세요. 노트 앱이나 음성 메모를 활용하면 좋습니다.
  
  주간 리뷰를 통해 진행 중인 프로젝트들을 점검하세요. 자유로운 성향이 때로는 일의 완성도를 떨어뜨릴 수 있음을 주의하세요.
  
  네트워킹에 시간을 투자하세요. 당신의 친화력은 새로운 기회를 만드는 큰 자산이 됩니다.
  
  정기적으로 새로운 환경에서 일해보세요. 카페, 공유 오피스 등 다양한 공간에서의 작업은 창의성을 자극합니다.
  
  약속 관리를 위해 디지털 캘린더를 적극 활용하세요. 알림 설정을 해두면 중요한 일정을 놓치지 않을 수 있습니다.
  
  매일 저녁 다음 날의 할 일을 정리하세요. 자유로운 성향을 보완하는 최소한의 구조가 필요합니다.`
  },
    "LHHHH": {
      name: "헤파이스토스",
      emoji: "🔨",
      characteristics: "차분하지만 친근한 성격으로, 체계적이고 섬세한 작업을 선호합니다. 감정이 풍부하고 창의적인 문제 해결 능력이 뛰어납니다. 기술과 예술을 결합하는 능력이 특별한 유형입니다.",
      strengths: [
        "뛰어난 기술적 창의성",
        "섬세한 작업 능력",
        "높은 문제 해결력",
        "끈기 있는 과제 수행"
      ],
      weaknesses: [
        "사회적 상황에서의 불편함",
        "과도한 완벽주의",
        "자신감 부족",
        "스트레스에 민감"
      ],
      tips: `자신만의 작업 공간을 최적화하세요. 도구와 재료를 체계적으로 정리하고, 창의적 영감을 주는 환경을 만드는 것이 중요합니다.
  
      정기적으로 기술 트렌드를 파악하고 새로운 도구나 방법을 학습하세요. 온라인 강의나 워크샵 참여가 도움될 수 있습니다.
  
      작업 과정을 기록하는 습관을 들이세요. 사진이나 영상으로 진행 상황을 남기면 나중에 포트폴리오로 활용할 수 있습니다.
  
      소규모 모임부터 시작해서 점진적으로 사회적 네트워크를 넓혀가세요. 같은 분야의 전문가들과의 교류는 기술적 성장에 큰 도움이 됩니다.
  
      작업 중간중간 스트레칭이나 간단한 운동을 하세요. 오랜 시간 집중 작업을 하다 보면 신체적 긴장이 쌓일 수 있습니다.
  
      매일 저녁 명상이나 심호흡 exercises를 실천하세요. 이는 스트레스 관리와 창의성 향상에 도움이 됩니다.`
    },
  
    "LHHHL": {
      name: "데메테르",
      emoji: "🌾",
      characteristics: "차분하고 배려심 깊으며, 체계적인 돌봄을 제공하는 유형입니다. 감정이 풍부하고 현실적인 문제 해결을 선호합니다.",
      strengths: [
        "뛰어난 돌봄 능력",
        "체계적인 업무 처리",
        "강한 책임감",
        "실용적 문제해결력"
      ],
      weaknesses: [
        "과도한 책임감",
        "자기희생적 성향",
        "변화 수용의 어려움",
        "일과 삶의 균형 부족"
      ],
      tips: `자기 돌봄 시간을 반드시 확보하세요. 매일 30분이라도 자신만을 위한 시간을 가지는 것이 중요합니다.
  
      업무와 개인 생활의 경계를 명확히 하세요. 퇴근 후에는 업무 관련 연락을 자제하는 등의 규칙을 만들어보세요.
  
      정기적인 휴식과 재충전의 시간을 가지세요. 자연 속에서 시간을 보내거나 취미 활동을 하는 것이 도움될 수 있습니다.
  
      주간 계획을 세울 때 반드시 '나를 위한 시간'을 포함하세요. 이는 번아웃 예방에 필수적입니다.`
    },
  
    "HHLLH": {
      name: "디오니소스",
      emoji: "🍷",
      characteristics: "활발하고 친근하며, 자유분방한 영혼을 가진 창의적인 유형입니다. 즉흥적이지만 안정적인 감정을 지니고 있습니다.",
      strengths: [
        "뛰어난 창의성",
        "높은 사교성",
        "즉흥적 문제해결력",
        "긍정적 에너지"
      ],
      weaknesses: [
        "체계성 부족",
        "약속 준수 어려움",
        "산만한 성향",
        "과도한 낙관주의"
      ],
      tips: `자유로운 창의성을 발휘하되, 기본적인 스케줄 관리는 필요합니다. 디지털 캘린더를 활용해보세요.
  
      브레인스토밍이나 창의적 회의를 주도해보세요. 당신의 자유로운 발상이 팀에 큰 도움이 될 수 있습니다.
  
      새로운 아이디어가 떠오를 때마다 바로 기록하세요. 메모 앱이나 스케치북을 항상 곁에 두는 것이 좋습니다.`
    },
  
    "LLLHH": {
      name: "오르페우스",
      emoji: "🎭",
      characteristics: "조용하고 독립적이며, 예술적 감성이 풍부한 유형입니다. 깊은 감정과 창의성을 지니고 있습니다.",
      strengths: [
        "깊은 예술적 통찰력",
        "독창적 사고방식",
        "감정의 섬세한 표현력",
        "집중력과 몰입도"
      ],
      weaknesses: [
        "현실과의 괴리",
        "의사소통의 어려움",
        "고독 추구",
        "실용성 부족"
      ],
      tips: `예술적 활동과 실용적 업무의 균형을 찾으세요. 시간 관리 도구를 활용하면 도움이 됩니다.
  
      당신의 작품이나 아이디어를 공유할 수 있는 온라인 플랫폼을 활용하세요. 직접적인 대면 없이도 소통할 수 있습니다.
  
      정기적으로 영감을 얻을 수 있는 장소나 행사를 방문하세요. 이는 창의성 유지에 중요합니다.`
    },
  
    "LLHHH": {
      name: "카산드라",
      emoji: "🔮",
      characteristics: "차분하고 독립적이며, 뛰어난 통찰력과 예지력을 가진 유형입니다. 체계적인 분석과 창의적 해석 능력이 특징입니다.",
      strengths: [
        "예리한 통찰력",
        "분석적 사고능력",
        "미래 예측 능력",
        "독창적 문제해결력"
      ],
      weaknesses: [
        "의견 전달의 어려움",
        "고립감",
        "불안감",
        "타인의 불신에 대한 좌절"
      ],
      tips: `당신의 통찰을 객관적 데이터와 함께 제시하세요. 이는 설득력을 높이는 데 도움이 됩니다.
  
      정기적으로 예측과 결과를 기록하고 분석하세요. 이는 통찰력을 더욱 발전시키는 데 도움이 됩니다.
  
      소수의 신뢰할 수 있는 동료나 멘토와 깊은 관계를 형성하세요. 이들과의 대화는 당신의 생각을 정리하는 데 도움이 됩니다.
  
      명상과 자기성찰 시간을 가지세요. 이는 불안감 해소와 통찰력 향상에 도움이 됩니다.`
    },
    "HHHLH": "헤라클레스형 🦁",  // 용감하고 헌신적인 영웅
    "HHHLL": "헤베형 🌸",       // 친근하고 봉사하는 지원자
    
    "HHLHH": "이리스형 🌈",     // 활기찬 전달자이자 연결자
    "HHLLL": "에로스형 💝",     // 순수한 즐거움을 추구하는 낙천가
  
    // 활발, 독립적인 유형들 (H,L로 시작)
    "HLHHH": "미네르바형 🦉",     // 전략적인 지혜의 리더
    "HLHHL": "포세이돈형 🌊",     // 열정적인 전사
    "HLHLL": "나이키형 🏃‍♀️",    // 승리를 추구하는 성취가
    
    "HLLHH": "프로메테우스형 🔥", // 혁신적인 창조자
    "HLLHL": "페르세우스형 🗡️",  // 대담한 영웅
    "HLLLH": "이카루스형 🕊️",    // 자유로운 도전가
    "HLLLL": "오디세우스형 🚢",  // 독립적인 모험가
  
    // 차분, 친근한 유형들 (L,H로 시작)
    "LHHLH": "아스클레피오스형 ⚕️", // 치유하는 지혜자
    "LHHLL": "헤스티아형 🏛️",    // 안정을 주는 보호자
    
    "LHLHL": "에코형 🌿",       // 공감하는 반향자
    "LHLLH": "키론형 🎯",       // 지혜로운 스승
    "LHLLL": "프시케형 🦋",     // 순수한 영혼의 동반자
  
    // 차분, 독립적인 유형들 (L,L로 시작)
    "LLHHL": "테미스형 ⚖️",     // 공정한 판단자
    "LLHLL": "헤카테형 🌙",     // 신비로운 통찰자
    
    "LLLHL": "넵튠형 🌊",      // 심오한 몽상가
    "LLLLH": "크로노스형 ⏳",   // 시간을 초월한 사색가
    "LLLLL": "하데스형 🌑"      // 고독한 관찰자
  } 
  // ... 다른 캐릭터들 추가

const Results = ({ results, onRestart }) => {
  // 성격 유형 코드 생성 (HLHHL 등)
  const getPersonalityCode = (results) => {
    return results.map(r => r.score > 3 ? "H" : "L").join("");
  };

  const personalityCode = getPersonalityCode(results);
  const personalityType = mythCharacters[personalityCode] || {
    name: "알 수 없는 유형",
    emoji: "❓",
    characteristics: "분석 중...",
    strengths: [],
    weaknesses: [],
    tips: "더 자세한 분석이 필요합니다."
  };

  return (
    <div className="quiz-card">
      <div className="quiz-header">
        <h2>그리스로마신화 속 당신은?</h2>
        <h3 className="personality-type">
          {personalityType.name} {personalityType.emoji}
        </h3>
      </div>
      
      <div className="quiz-content">
        {/* 차트 섹션 */}
        <div className="chart-container">
          <BarChart width={600} height={250} data={results}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="domain" />
            <YAxis domain={[0, 5]} />
            <Tooltip />
            <Bar dataKey="score" fill="#4f46e5" />
          </BarChart>
        </div>
        
        {/* 점수 결과 섹션 */}
        <div className="results-container">
          {results.map((result, index) => (
            <div key={index} className="result-item">
              <div className="result-header">
                <h3>{result.domain}</h3>
                <span>{result.score}/5</span>
              </div>
              <div className="progress-bar">
                <div 
                  className="progress-fill" 
                  style={{ width: `${result.score * 20}%` }} 
                />
              </div>
              <p>{result.description}</p>
            </div>
          ))}
        </div>

        {/* 상세 유형 설명 섹션 */}
        <div className="personality-details">
          <section className="characteristics">
            <h4>특성</h4>
            <p>{personalityType.characteristics}</p>
          </section>

          <section className="strengths-weaknesses">
            <h4>강점과 약점</h4>
            <div className="strengths">
              <h5>강점:</h5>
              <ul>
                {personalityType.strengths.map((strength, index) => (
                  <li key={index}>{strength}</li>
                ))}
              </ul>
            </div>
            <div className="weaknesses">
              <h5>약점:</h5>
              <ul>
                {personalityType.weaknesses.map((weakness, index) => (
                  <li key={index}>{weakness}</li>
                ))}
              </ul>
            </div>
          </section>

          <section className="real-world-tips">
            <h4>현실세계에서의 팁</h4>
            <p>{personalityType.tips}</p>
          </section>
        </div>

        <button 
          onClick={onRestart}
          className="quiz-button"
        >
          다시 시작하기
        </button>
      </div>
    </div>
  );
};

export default Results;